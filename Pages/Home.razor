@page "/"
@inject ProjectServices projectServices

<PageTitle>Home</PageTitle>

<!-- Header Section -->
<section class="px-6 md:px-12 xl:px-6" id="header">
    <Header />
</section>

<!-- Session About Section -->
<section class="px-6 md:px-12 xl:px-6" id="session-about">
    <SessionAbout />
</section>

<!-- Projects Section -->
<section class="px-6 md:px-12 xl:px-6" id="projects">
    <HeaderSecond>
        Recent Projects
    </HeaderSecond>
    <!-- Loop through projects -->
    @foreach (var project in Projects)
    {
        <ProjectCard project="@project" />
    }
    <!-- Navigation link -->
    <NavLink href="/work">
        <p class="mt-9 text-center dark:text-white text-xl font-semibold">...and see more Projects!</p>
    </NavLink>
</section>

<!-- Technologies Section -->
<section class="px-6 md:px-12 xl:px-6 text-center" id="technologies">
    <HeaderSecond>
        Technologies I Used
    </HeaderSecond>
    <!-- Technologies list grid -->
    <div class="mx-auto grid max-w-7xl grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
        <TechnologiesList />
    </div>
</section>

<!-- Contact Section -->
<section class="mb-12" id="contact">
    <HeaderSecond>
        Contact me
    </HeaderSecond>
    <p class="text-center dark:text-white">I'm always open to new opportunities and projects.</p>
    <!-- Contact form and direct contact -->
    <div class="relative mx-auto mt-6 grid max-w-5xl grid-cols-1 gap-6 md:grid-cols-2">
        <!-- Contact form -->
        <div class="flex w-full max-w-screen-sm rounded-lg border border-black/15 bg-white p-5 shadow-lg duration-200 dark:border-neutral-800 dark:bg-[#161617]">
            <ContactUs />
        </div>
        <!-- Direct contact -->
        <div class="space-y-4 p-4">
            <DirectContact />
        </div>
    </div>
</section>

@code {
    private List<Project> Projects;
    protected override void OnInitialized()
    {
        // Fetching projects
        Projects = projectServices.GetProjects().Take(2).ToList();
    }
}
